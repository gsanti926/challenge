<div class="container mt-5">
	<div class="row justify-content-center">
		<div class="col-md-6">
			<div class="card shadow">
				<div class="card-body p-4">
					<h2 class="text-center mb-4">Login</h2>

					<div *ngIf="error" class="alert alert-danger" role="alert">
						{{ error }}
					</div>

					<form (ngSubmit)="onSubmit()">
						<div class="mb-3">
							<label for="airline" class="form-label">Airline</label>
							<ng-select
								[items]="airlines"
								bindLabel="name"
								bindValue="id"
								[(ngModel)]="selectedAirline"
								name="airline"
								placeholder="Select an airline"
								[searchable]="true"
								[clearable]="true"
								[disabled]="loading"
								[searchFn]="customSearchFn">
								<ng-template ng-label-tmp let-item="item">
									{{ item.name }}
								</ng-template>
								<ng-template ng-option-tmp let-item="item" let-search="searchTerm">
									<div>
										<strong>{{ item.name }}</strong>
										<br>
										<small class="text-muted">Code: {{ item.code }}</small>
									</div>
								</ng-template>
							</ng-select>
						</div>

						<div class="mb-3">
							<label for="employeeNumber" class="form-label">Employee Number</label>
							<input
								type="text"
								class="form-control"
								id="employeeNumber"
								[(ngModel)]="employeeNumber"
								name="employeeNumber"
								placeholder="Enter your employee number"
								required>
						</div>

						<div class="mb-3">
							<label for="password" class="form-label">Password</label>
							<input
								type="password"
								class="form-control"
								id="password"
								[(ngModel)]="password"
								name="password"
								placeholder="Enter your password"
								required>
						</div>

						<button
							type="submit"
							class="btn btn-primary w-100"
							[disabled]="loading">
							<span *ngIf="loading">Loading...</span>
							<span *ngIf="!loading">Login</span>
						</button>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>
